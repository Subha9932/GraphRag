
-Goal-
Given a text document that is potentially relevant to this activity and a list of entity types, identify all entities of those types from the text and all relationships among the identified entities.

-Steps-
1. Identify all entities. For each identified entity, extract the following information:
- entity_name: Name of the entity, capitalized
- entity_type: One of the following types: [{entity_types}]
- entity_description: Comprehensive description of the entity's attributes and activities
Format each entity as ("entity"{tuple_delimiter}<entity_name>{tuple_delimiter}<entity_type>{tuple_delimiter}<entity_description>)

2. From the entities identified in step 1, identify all pairs of (source_entity, target_entity) that are *clearly related* to each other.
For Salesforce code, pay special attention to these relationship types:
- **TRIGGERS_ON**: An apex_trigger fires on an sobject (e.g., AccountTrigger triggers on Account)
- **CALLS**: An apex_class or method calls another method
- **QUERIES**: Code performs SOQL query on an sobject (look for SELECT statements)
- **MODIFIES**: Code performs DML on an sobject (insert, update, delete, upsert)
- **REFERENCES**: Code accesses a specific field (e.g., Account.Name)
- **DEFINES**: A class defines a method, or a file defines a class

For each pair of related entities, extract the following information:
- source_entity: name of the source entity, as identified in step 1
- target_entity: name of the target entity, as identified in step 1
- relationship_description: explanation as to why you think the source entity and the target entity are related to each other
- relationship_strength: a numeric score indicating strength of the relationship between the source entity and target_entity
Format each relationship as ("relationship"{tuple_delimiter}<source_entity>{tuple_delimiter}<target_entity>{tuple_delimiter}<relationship_description>{tuple_delimiter}<relationship_strength>)

3. Return output in English as a single list of all the entities and relationships identified in steps 1 and 2. Use **{record_delimiter}** as the list delimiter.

4. When finished, output {completion_delimiter}

######################
-Examples-
######################
Example 1:
Entity_types: CLASS,FUNCTION,FILE,VARIABLE,MODULE
Text:
START FILE: src/main.py
LANGUAGE: python
-----------------------------------
from fastapi import FastAPI
from .utils import helper_function
def main():
    helper_function()
######################
Output:
("entity"{tuple_delimiter}SRC_MAIN_PY{tuple_delimiter}FILE{tuple_delimiter}File located at src/main.py)
{record_delimiter}
("entity"{tuple_delimiter}MAIN{tuple_delimiter}FUNCTION{tuple_delimiter}Function main in src/main.py)
{record_delimiter}
("entity"{tuple_delimiter}FASTAPI{tuple_delimiter}CLASS{tuple_delimiter}Class FastAPI imported in src/main.py)
{record_delimiter}
("relationship"{tuple_delimiter}SRC_MAIN_PY{tuple_delimiter}FASTAPI{tuple_delimiter}src/main.py imports FastAPI{tuple_delimiter}8)
{record_delimiter}
("relationship"{tuple_delimiter}MAIN{tuple_delimiter}SRC_MAIN_PY{tuple_delimiter}main is defined in src/main.py{tuple_delimiter}10)
{completion_delimiter}

#############################
Example 2:

Entity_types: [apex_class, apex_trigger, sobject, field, method, lwc_component]
Text:
START FILE: force-app/main/default/classes/PracticeSOQL.cls
LANGUAGE: apex
-----------------------------------
public class PracticeSOQL {{
    public static void PracticeSOQL() {{
        List<Account> accounts = [SELECT Id, Name, (SELECT Id, LastName FROM Contacts) FROM Account LIMIT 1];
        for (Account a : accounts) {{
            System.debug('Account Name: ' + a.Name);
            for (Contact c : a.Contacts) {{
                System.debug('Contact Last Name: ' + c.LastName);
            }}
        }}   
    }}
}}
################
Output:
("entity"{tuple_delimiter}PRACTICESOQL{tuple_delimiter}apex_class{tuple_delimiter}Apex class that demonstrates SOQL queries with parent-child relationships)
{record_delimiter}
("entity"{tuple_delimiter}PRACTICESOQL_METHOD{tuple_delimiter}method{tuple_delimiter}Static method that queries Account and Contact records and logs their data)
{record_delimiter}
("entity"{tuple_delimiter}ACCOUNT{tuple_delimiter}sobject{tuple_delimiter}Standard Salesforce object representing customer accounts)
{record_delimiter}
("entity"{tuple_delimiter}CONTACT{tuple_delimiter}sobject{tuple_delimiter}Standard Salesforce object representing individual contacts)
{record_delimiter}
("entity"{tuple_delimiter}ACCOUNT_ID{tuple_delimiter}field{tuple_delimiter}Unique identifier field on Account object)
{record_delimiter}
("entity"{tuple_delimiter}ACCOUNT_NAME{tuple_delimiter}field{tuple_delimiter}Name field on Account object)
{record_delimiter}
("entity"{tuple_delimiter}CONTACT_ID{tuple_delimiter}field{tuple_delimiter}Unique identifier field on Contact object)
{record_delimiter}
("entity"{tuple_delimiter}CONTACT_LASTNAME{tuple_delimiter}field{tuple_delimiter}Last name field on Contact object)
{record_delimiter}
("relationship"{tuple_delimiter}PRACTICESOQL{tuple_delimiter}PRACTICESOQL_METHOD{tuple_delimiter}PracticeSOQL class defines the PracticeSOQL method{tuple_delimiter}10)
{record_delimiter}
("relationship"{tuple_delimiter}PRACTICESOQL_METHOD{tuple_delimiter}ACCOUNT{tuple_delimiter}Method queries Account object using SOQL SELECT statement{tuple_delimiter}9)
{record_delimiter}
("relationship"{tuple_delimiter}PRACTICESOQL_METHOD{tuple_delimiter}CONTACT{tuple_delimiter}Method queries Contact object using SOQL subquery{tuple_delimiter}9)
{record_delimiter}
("relationship"{tuple_delimiter}PRACTICESOQL_METHOD{tuple_delimiter}ACCOUNT_ID{tuple_delimiter}Method retrieves Id field from Account in SOQL query{tuple_delimiter}7)
{record_delimiter}
("relationship"{tuple_delimiter}PRACTICESOQL_METHOD{tuple_delimiter}ACCOUNT_NAME{tuple_delimiter}Method retrieves and references Name field from Account{tuple_delimiter}8)
{record_delimiter}
("relationship"{tuple_delimiter}PRACTICESOQL_METHOD{tuple_delimiter}CONTACT_ID{tuple_delimiter}Method retrieves Id field from Contact in SOQL subquery{tuple_delimiter}7)
{record_delimiter}
("relationship"{tuple_delimiter}PRACTICESOQL_METHOD{tuple_delimiter}CONTACT_LASTNAME{tuple_delimiter}Method retrieves and references LastName field from Contact{tuple_delimiter}8)
{record_delimiter}
("relationship"{tuple_delimiter}CONTACT{tuple_delimiter}ACCOUNT{tuple_delimiter}Contact has parent-child relationship with Account via Contacts subquery{tuple_delimiter}10)
{completion_delimiter}

#############################
-Real Data-
######################
Entity_types: {entity_types}
Text: {input_text}
######################
Output: